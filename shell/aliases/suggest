#!/bin/bash

alias salias="dot suggest alias"
alias stmux="suggest_tmux_shortcut"
alias sman="dot suggest command_usage"

function suggest_tmux_shortcut() {
	if [ -z "$*" ]; then
		echo "Please provide a prompt describing what you want to achieve"
		return 1
	fi

	local prompt=$(
		cat <<EOF
Given my notes about my configuration of tmux:

$(cat $DOTFILES_PATH/docs/shortcuts/tmux.md)

And my current tmux configuration:

$(cat $DOTFILES_PATH/tmux/.tmux.conf)

I want to: $@

First, tell me if there are any EXISTING shortcuts that help with this task.
Then, if needed, suggest new shortcuts that would be helpful.

Format your response exactly like this:
EXISTING SHORTCUTS:
1. shortcut: what it does
or 'No existing shortcuts found for this task'

SUGGESTED NEW SHORTCUTS:
1. shortcut: how can I configure it
or 'No new shortcuts suggested'
EOF
	)

	ask_ai "$prompt"
}